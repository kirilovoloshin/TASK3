{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\admin\\\\Desktop\\\\WebApplication1\\\\WebApplicationUI\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { environment } from '../../../environments/environment.prod';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\n\nfunction MainComponent_body_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"body\");\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵelementStart(2, \"div\", 2);\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4, \"\\u0412\\u0438\\u0431\\u0435\\u0440\\u0456\\u0442\\u044C \\u0441\\u0432\\u043E\\u044E \\u0441\\u0442\\u043E\\u0440\\u043E\\u043D\\u0443\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 3);\n    i0.ɵɵlistener(\"click\", function MainComponent_body_0_Template_div_click_5_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      ctx_r3.cellValue = 1;\n      return ctx_r3.start();\n    });\n    i0.ɵɵelement(6, \"img\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 3);\n    i0.ɵɵlistener(\"click\", function MainComponent_body_0_Template_div_click_7_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      ctx_r5.cellValue = 0;\n      return ctx_r5.start();\n    });\n    i0.ɵɵelement(8, \"img\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MainComponent_body_1_div_1_div_1_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 12);\n  }\n\n  if (rf & 2) {\n    const cell_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵpropertyInterpolate(\"alt\", cell_r9.value);\n  }\n}\n\nfunction MainComponent_body_1_div_1_div_1_img_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 13);\n  }\n\n  if (rf & 2) {\n    const cell_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵpropertyInterpolate(\"alt\", cell_r9.value);\n  }\n}\n\nfunction MainComponent_body_1_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵlistener(\"click\", function MainComponent_body_1_div_1_div_1_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const cell_r9 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext(3);\n      return !ctx_r14.moving ? ctx_r14.move(cell_r9) : \"\";\n    });\n    i0.ɵɵtemplate(1, MainComponent_body_1_div_1_div_1_img_1_Template, 1, 1, \"img\", 10);\n    i0.ɵɵtemplate(2, MainComponent_body_1_div_1_div_1_img_2_Template, 1, 1, \"img\", 11);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const cell_r9 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", cell_r9.value === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", cell_r9.value === 1);\n  }\n}\n\nfunction MainComponent_body_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtemplate(1, MainComponent_body_1_div_1_div_1_Template, 3, 2, \"div\", 8);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const cells_r7 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", cells_r7);\n  }\n}\n\nfunction MainComponent_body_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"body\");\n    i0.ɵɵtemplate(1, MainComponent_body_1_div_1_Template, 2, 1, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.Field);\n  }\n}\n\nfunction MainComponent_body_2_h1_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r16.wonStr);\n  }\n}\n\nfunction MainComponent_body_2_h1_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r17.loseStr);\n  }\n}\n\nfunction MainComponent_body_2_h1_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\");\n    i0.ɵɵtext(1, \"\\u041D\\u0456\\u0447\\u0456\\u044F\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MainComponent_body_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"body\");\n    i0.ɵɵelementStart(1, \"div\", 14);\n    i0.ɵɵtemplate(2, MainComponent_body_2_h1_2_Template, 2, 1, \"h1\", 0);\n    i0.ɵɵtemplate(3, MainComponent_body_2_h1_3_Template, 2, 1, \"h1\", 0);\n    i0.ɵɵtemplate(4, MainComponent_body_2_h1_4_Template, 2, 0, \"h1\", 0);\n    i0.ɵɵelementStart(5, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function MainComponent_body_2_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext();\n      ctx_r19.win = 0;\n      return ctx_r19.cellValue = -1;\n    });\n    i0.ɵɵtext(6, \"\\u0421\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439 \\u0449\\u0435\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.win === 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.win === -1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.win === 2);\n  }\n}\n\nexport class MainComponent {\n  constructor(client) {\n    this.client = client;\n    this.Field = [];\n    this.cellValue = -1;\n    this.win = 0;\n    this.moving = false;\n    this.wonStr = 'Ти виграв!';\n    this.loseStr = 'Ти програв!';\n  }\n\n  start() {\n    this.client.get(environment.baseUrl + '/Game').subscribe(data => {\n      this.Field = data;\n\n      if (this.cellValue === 0) {\n        this.moving = true;\n        this.serverMove();\n      }\n    });\n  }\n\n  move(cell) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (cell.value === null) {\n        _this.moving = true;\n        cell.value = _this.cellValue;\n\n        _this.checkWin(_this.cellValue);\n\n        if (_this.win === 0) _this.serverMove();\n      }\n    })();\n  }\n\n  serverMove() {\n    this.client.post(environment.baseUrl + '/Game/ServerMove?value=' + (this.cellValue === 0 ? 1 : 0), this.Field).subscribe(data => {\n      this.Field = data;\n      this.checkWin(this.cellValue === 0 ? 1 : 0);\n      this.moving = false;\n    });\n  }\n\n  checkWin(value) {\n    let result = value === this.cellValue ? 1 : -1;\n    let res = false;\n    const _boardSize = 3;\n\n    for (let i = 0; i < _boardSize; i++) {\n      res = true;\n\n      for (let j = 0; j < _boardSize; j++) {\n        if (this.Field[i][j].value !== value) res = false;\n      }\n\n      if (res) {\n        this.resulting(result);\n        return;\n      }\n    }\n\n    for (let i = 0; i < _boardSize; i++) {\n      res = true;\n\n      for (let j = 0; j < _boardSize; j++) {\n        if (this.Field[j][i].value !== value) res = false;\n      }\n\n      if (res) {\n        this.resulting(result);\n        return;\n      }\n    }\n\n    res = true;\n\n    for (let i = 0; i < _boardSize; i++) {\n      if (this.Field[i][i].value !== value) res = false;\n    }\n\n    if (res) {\n      this.resulting(result);\n      return;\n    }\n\n    res = true;\n\n    for (let i = 0; i < _boardSize; i++) {\n      if (this.Field[i][_boardSize - 1 - i].value !== value) res = false;\n    }\n\n    if (res) {\n      this.resulting(result);\n      return;\n    } //check draw\n\n\n    let v = this.Field.reduce((a, b) => a.concat(b)).filter(a => a.value === null);\n\n    if (v === undefined || v.length === 0) {\n      this.resulting(2);\n      return;\n    }\n  }\n\n  resulting(result) {\n    this.win = result;\n    this.moving = false;\n    this.Field = [];\n  }\n\n}\n\nMainComponent.ɵfac = function MainComponent_Factory(t) {\n  return new (t || MainComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\n\nMainComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MainComponent,\n  selectors: [[\"app-main-component\"]],\n  decls: 3,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [2, \"display\", \"flex\", \"justify-content\", \"space-around\", \"flex-wrap\", \"wrap\", \"text-align\", \"center\"], [2, \"width\", \"100%\"], [2, \"width\", \"100px\", \"height\", \"100px\", \"display\", \"inline-block\", 3, \"click\"], [\"alt\", \"cross\", \"src\", \"./assets/img/cross.jpg\"], [\"alt\", \"zero\", \"src\", \"./assets/img/zero.jpg\"], [\"style\", \"display:block;height: 100px;margin:6px auto;width:318px;\", 4, \"ngFor\", \"ngForOf\"], [2, \"display\", \"block\", \"height\", \"100px\", \"margin\", \"6px auto\", \"width\", \"318px\"], [\"style\", \"margin:auto 3px;width:100px;height: 100px;background-color:rgb(49, 60, 57);float:left;display:inline-block;color:white;\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [2, \"margin\", \"auto 3px\", \"width\", \"100px\", \"height\", \"100px\", \"background-color\", \"rgb(49, 60, 57)\", \"float\", \"left\", \"display\", \"inline-block\", \"color\", \"white\", 3, \"click\"], [\"src\", \"./assets/img/zero.jpg\", 3, \"alt\", 4, \"ngIf\"], [\"src\", \"./assets/img/cross.jpg\", 3, \"alt\", 4, \"ngIf\"], [\"src\", \"./assets/img/zero.jpg\", 3, \"alt\"], [\"src\", \"./assets/img/cross.jpg\", 3, \"alt\"], [2, \"width\", \"300px\", \"margin\", \"auto\", \"text-align\", \"center\"], [2, \"height\", \"50px\", \"width\", \"100px\", 3, \"click\"]],\n  template: function MainComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, MainComponent_body_0_Template, 9, 0, \"body\", 0);\n      i0.ɵɵtemplate(1, MainComponent_body_1_Template, 2, 1, \"body\", 0);\n      i0.ɵɵtemplate(2, MainComponent_body_2_Template, 7, 3, \"body\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.cellValue === -1 && ctx.win === 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.cellValue !== -1 && ctx.win === 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.win !== 0);\n    }\n  },\n  directives: [i2.NgIf, i2.NgForOf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtYWluLmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"sources":["C:/Users/admin/Desktop/WebApplication1/WebApplicationUI/src/app/components/main-component/main.component.ts"],"names":["environment","i0","i1","i2","MainComponent_body_0_Template","rf","ctx","_r4","ɵɵgetCurrentView","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","MainComponent_body_0_Template_div_click_5_listener","ɵɵrestoreView","ctx_r3","ɵɵnextContext","cellValue","start","ɵɵelement","MainComponent_body_0_Template_div_click_7_listener","ctx_r5","MainComponent_body_1_div_1_div_1_img_1_Template","cell_r9","$implicit","ɵɵpropertyInterpolate","value","MainComponent_body_1_div_1_div_1_img_2_Template","MainComponent_body_1_div_1_div_1_Template","_r15","MainComponent_body_1_div_1_div_1_Template_div_click_0_listener","restoredCtx","ctx_r14","moving","move","ɵɵtemplate","ɵɵadvance","ɵɵproperty","MainComponent_body_1_div_1_Template","cells_r7","MainComponent_body_1_Template","ctx_r1","Field","MainComponent_body_2_h1_2_Template","ctx_r16","ɵɵtextInterpolate","wonStr","MainComponent_body_2_h1_3_Template","ctx_r17","loseStr","MainComponent_body_2_h1_4_Template","MainComponent_body_2_Template","_r20","MainComponent_body_2_Template_button_click_5_listener","ctx_r19","win","ctx_r2","MainComponent","constructor","client","get","baseUrl","subscribe","data","serverMove","cell","checkWin","post","result","res","_boardSize","i","j","resulting","v","reduce","a","b","concat","filter","undefined","length","ɵfac","MainComponent_Factory","t","ɵɵdirectiveInject","HttpClient","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","MainComponent_Template","directives","NgIf","NgForOf","styles"],"mappings":"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","sourcesContent":["import { environment } from '../../../environments/environment.prod';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/common/http\";\r\nimport * as i2 from \"@angular/common\";\r\nfunction MainComponent_body_0_Template(rf, ctx) { if (rf & 1) {\r\n    const _r4 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"body\");\r\n    i0.ɵɵelementStart(1, \"div\", 1);\r\n    i0.ɵɵelementStart(2, \"div\", 2);\r\n    i0.ɵɵelementStart(3, \"h3\");\r\n    i0.ɵɵtext(4, \"\\u0412\\u0438\\u0431\\u0435\\u0440\\u0456\\u0442\\u044C \\u0441\\u0432\\u043E\\u044E \\u0441\\u0442\\u043E\\u0440\\u043E\\u043D\\u0443\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(5, \"div\", 3);\r\n    i0.ɵɵlistener(\"click\", function MainComponent_body_0_Template_div_click_5_listener() { i0.ɵɵrestoreView(_r4); const ctx_r3 = i0.ɵɵnextContext(); ctx_r3.cellValue = 1; return ctx_r3.start(); });\r\n    i0.ɵɵelement(6, \"img\", 4);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(7, \"div\", 3);\r\n    i0.ɵɵlistener(\"click\", function MainComponent_body_0_Template_div_click_7_listener() { i0.ɵɵrestoreView(_r4); const ctx_r5 = i0.ɵɵnextContext(); ctx_r5.cellValue = 0; return ctx_r5.start(); });\r\n    i0.ɵɵelement(8, \"img\", 5);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction MainComponent_body_1_div_1_div_1_img_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"img\", 12);\r\n} if (rf & 2) {\r\n    const cell_r9 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵpropertyInterpolate(\"alt\", cell_r9.value);\r\n} }\r\nfunction MainComponent_body_1_div_1_div_1_img_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"img\", 13);\r\n} if (rf & 2) {\r\n    const cell_r9 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵpropertyInterpolate(\"alt\", cell_r9.value);\r\n} }\r\nfunction MainComponent_body_1_div_1_div_1_Template(rf, ctx) { if (rf & 1) {\r\n    const _r15 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\", 9);\r\n    i0.ɵɵlistener(\"click\", function MainComponent_body_1_div_1_div_1_Template_div_click_0_listener() { const restoredCtx = i0.ɵɵrestoreView(_r15); const cell_r9 = restoredCtx.$implicit; const ctx_r14 = i0.ɵɵnextContext(3); return !ctx_r14.moving ? ctx_r14.move(cell_r9) : \"\"; });\r\n    i0.ɵɵtemplate(1, MainComponent_body_1_div_1_div_1_img_1_Template, 1, 1, \"img\", 10);\r\n    i0.ɵɵtemplate(2, MainComponent_body_1_div_1_div_1_img_2_Template, 1, 1, \"img\", 11);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const cell_r9 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", cell_r9.value === 0);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", cell_r9.value === 1);\r\n} }\r\nfunction MainComponent_body_1_div_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 7);\r\n    i0.ɵɵtemplate(1, MainComponent_body_1_div_1_div_1_Template, 3, 2, \"div\", 8);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const cells_r7 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngForOf\", cells_r7);\r\n} }\r\nfunction MainComponent_body_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"body\");\r\n    i0.ɵɵtemplate(1, MainComponent_body_1_div_1_Template, 2, 1, \"div\", 6);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.Field);\r\n} }\r\nfunction MainComponent_body_2_h1_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"h1\");\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r16 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(ctx_r16.wonStr);\r\n} }\r\nfunction MainComponent_body_2_h1_3_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"h1\");\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r17 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(ctx_r17.loseStr);\r\n} }\r\nfunction MainComponent_body_2_h1_4_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"h1\");\r\n    i0.ɵɵtext(1, \"\\u041D\\u0456\\u0447\\u0456\\u044F\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction MainComponent_body_2_Template(rf, ctx) { if (rf & 1) {\r\n    const _r20 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"body\");\r\n    i0.ɵɵelementStart(1, \"div\", 14);\r\n    i0.ɵɵtemplate(2, MainComponent_body_2_h1_2_Template, 2, 1, \"h1\", 0);\r\n    i0.ɵɵtemplate(3, MainComponent_body_2_h1_3_Template, 2, 1, \"h1\", 0);\r\n    i0.ɵɵtemplate(4, MainComponent_body_2_h1_4_Template, 2, 0, \"h1\", 0);\r\n    i0.ɵɵelementStart(5, \"button\", 15);\r\n    i0.ɵɵlistener(\"click\", function MainComponent_body_2_Template_button_click_5_listener() { i0.ɵɵrestoreView(_r20); const ctx_r19 = i0.ɵɵnextContext(); ctx_r19.win = 0; return ctx_r19.cellValue = -1; });\r\n    i0.ɵɵtext(6, \"\\u0421\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439 \\u0449\\u0435\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r2 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.win === 1);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.win === -1);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.win === 2);\r\n} }\r\nexport class MainComponent {\r\n    constructor(client) {\r\n        this.client = client;\r\n        this.Field = [];\r\n        this.cellValue = -1;\r\n        this.win = 0;\r\n        this.moving = false;\r\n        this.wonStr = 'Ти виграв!';\r\n        this.loseStr = 'Ти програв!';\r\n    }\r\n    start() {\r\n        this.client.get(environment.baseUrl + '/Game').subscribe((data) => {\r\n            this.Field = data;\r\n            if (this.cellValue === 0) {\r\n                this.moving = true;\r\n                this.serverMove();\r\n            }\r\n        });\r\n    }\r\n    async move(cell) {\r\n        if (cell.value === null) {\r\n            this.moving = true;\r\n            cell.value = this.cellValue;\r\n            this.checkWin(this.cellValue);\r\n            if (this.win === 0)\r\n                this.serverMove();\r\n        }\r\n    }\r\n    serverMove() {\r\n        this.client\r\n            .post(environment.baseUrl +\r\n            '/Game/ServerMove?value=' +\r\n            (this.cellValue === 0 ? 1 : 0), this.Field)\r\n            .subscribe((data) => {\r\n            this.Field = data;\r\n            this.checkWin(this.cellValue === 0 ? 1 : 0);\r\n            this.moving = false;\r\n        });\r\n    }\r\n    checkWin(value) {\r\n        let result = value === this.cellValue ? 1 : -1;\r\n        let res = false;\r\n        const _boardSize = 3;\r\n        for (let i = 0; i < _boardSize; i++) {\r\n            res = true;\r\n            for (let j = 0; j < _boardSize; j++) {\r\n                if (this.Field[i][j].value !== value)\r\n                    res = false;\r\n            }\r\n            if (res) {\r\n                this.resulting(result);\r\n                return;\r\n            }\r\n        }\r\n        for (let i = 0; i < _boardSize; i++) {\r\n            res = true;\r\n            for (let j = 0; j < _boardSize; j++) {\r\n                if (this.Field[j][i].value !== value)\r\n                    res = false;\r\n            }\r\n            if (res) {\r\n                this.resulting(result);\r\n                return;\r\n            }\r\n        }\r\n        res = true;\r\n        for (let i = 0; i < _boardSize; i++) {\r\n            if (this.Field[i][i].value !== value)\r\n                res = false;\r\n        }\r\n        if (res) {\r\n            this.resulting(result);\r\n            return;\r\n        }\r\n        res = true;\r\n        for (let i = 0; i < _boardSize; i++) {\r\n            if (this.Field[i][_boardSize - 1 - i].value !== value)\r\n                res = false;\r\n        }\r\n        if (res) {\r\n            this.resulting(result);\r\n            return;\r\n        }\r\n        //check draw\r\n        let v = this.Field.reduce((a, b) => a.concat(b)).filter((a) => a.value === null);\r\n        if (v === undefined || v.length === 0) {\r\n            this.resulting(2);\r\n            return;\r\n        }\r\n    }\r\n    resulting(result) {\r\n        this.win = result;\r\n        this.moving = false;\r\n        this.Field = [];\r\n    }\r\n}\r\nMainComponent.ɵfac = function MainComponent_Factory(t) { return new (t || MainComponent)(i0.ɵɵdirectiveInject(i1.HttpClient)); };\r\nMainComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: MainComponent, selectors: [[\"app-main-component\"]], decls: 3, vars: 3, consts: [[4, \"ngIf\"], [2, \"display\", \"flex\", \"justify-content\", \"space-around\", \"flex-wrap\", \"wrap\", \"text-align\", \"center\"], [2, \"width\", \"100%\"], [2, \"width\", \"100px\", \"height\", \"100px\", \"display\", \"inline-block\", 3, \"click\"], [\"alt\", \"cross\", \"src\", \"./assets/img/cross.jpg\"], [\"alt\", \"zero\", \"src\", \"./assets/img/zero.jpg\"], [\"style\", \"display:block;height: 100px;margin:6px auto;width:318px;\", 4, \"ngFor\", \"ngForOf\"], [2, \"display\", \"block\", \"height\", \"100px\", \"margin\", \"6px auto\", \"width\", \"318px\"], [\"style\", \"margin:auto 3px;width:100px;height: 100px;background-color:rgb(49, 60, 57);float:left;display:inline-block;color:white;\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [2, \"margin\", \"auto 3px\", \"width\", \"100px\", \"height\", \"100px\", \"background-color\", \"rgb(49, 60, 57)\", \"float\", \"left\", \"display\", \"inline-block\", \"color\", \"white\", 3, \"click\"], [\"src\", \"./assets/img/zero.jpg\", 3, \"alt\", 4, \"ngIf\"], [\"src\", \"./assets/img/cross.jpg\", 3, \"alt\", 4, \"ngIf\"], [\"src\", \"./assets/img/zero.jpg\", 3, \"alt\"], [\"src\", \"./assets/img/cross.jpg\", 3, \"alt\"], [2, \"width\", \"300px\", \"margin\", \"auto\", \"text-align\", \"center\"], [2, \"height\", \"50px\", \"width\", \"100px\", 3, \"click\"]], template: function MainComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵtemplate(0, MainComponent_body_0_Template, 9, 0, \"body\", 0);\r\n        i0.ɵɵtemplate(1, MainComponent_body_1_Template, 2, 1, \"body\", 0);\r\n        i0.ɵɵtemplate(2, MainComponent_body_2_Template, 7, 3, \"body\", 0);\r\n    } if (rf & 2) {\r\n        i0.ɵɵproperty(\"ngIf\", ctx.cellValue === -1 && ctx.win === 0);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.cellValue !== -1 && ctx.win === 0);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.win !== 0);\r\n    } }, directives: [i2.NgIf, i2.NgForOf], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtYWluLmNvbXBvbmVudC5jc3MifQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}